<?php 
include 'templates/diseño/header.phtml'; 
?>

<div class="container mt-4">
    <h2 class="mb-4"><?php echo $titulo; ?></h2>
    
    <form action="<?php echo BASE_URL; ?>/admin/album/save" method="POST">
        
        <input type="hidden" name="id_album" value="<?php echo $album->ID_album ?? ''; ?>">
        
        <div class="mb-3">
            <label for="nombre_album" class="form-label">Nombre del Álbum:</label>
            <input type="text" class="form-control" id="nombre_album" name="nombre_album" required 
                   value="<?php echo htmlspecialchars($album->nombre_album ?? ''); ?>">
        </div>

        <div class="mb-3">
            <label for="ID_autor" class="form-label">Autor (Categoría):</label>
            <select class="form-select" id="ID_autor" name="ID_autor" required>
                <option value="">-- Seleccionar Autor --</option>
                <?php 
                if (isset($autores) && is_array($autores)):
                    foreach ($autores as $autor): 
                ?>
                    <option value="<?php echo $autor->ID_autor; ?>" 
                        <?php 
                            if (isset($album) && $album->ID_autor == $autor->ID_autor) {
                                echo 'selected';
                            }
                        ?>>
                        <?php echo htmlspecialchars($autor->nombre_autor); ?>
                    </option>
                <?php 
                    endforeach;
                endif;
                ?>
            </select>
        </div>

        <div class="mb-3">
            <label for="lanzamiento_album" class="form-label">Fecha de Lanzamiento:</label>
            <input type="date" class="form-control" id="lanzamiento_album" name="lanzamiento_album" 
                   value="<?php echo htmlspecialchars($album->lanzamiento_album ?? ''); ?>">
        </div>

        <div class="mb-3">
            <label for="cantidad_canciones" class="form-label">Cantidad de Canciones:</label>
            <input type="number" class="form-control" id="cantidad_canciones" name="cantidad_canciones" 
                   value="<?php echo htmlspecialchars($album->cantidad_canciones ?? ''); ?>">
        </div>
        
        <div class="mb-3">
            <label for="genero_album" class="form-label">Género:</label>
            <input type="text" class="form-control" id="genero_album" name="genero_album" 
                   value="<?php echo htmlspecialchars($album->genero_album ?? ''); ?>">
        </div>
        
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="<?php echo BASE_URL; ?>/admin/albumes" class="btn btn-secondary">Cancelar</a>
    </form>
</div>

<?php 
include 'templates/diseño/footer.phtml'; 
?>