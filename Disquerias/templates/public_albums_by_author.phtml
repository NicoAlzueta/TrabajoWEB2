<?php include 'templates/diseño/header.phtml'; ?>

<div class="container mt-5">
    <h1 class="mb-4"><?php echo isset($titulo) ? htmlspecialchars($titulo) : 'Álbumes'; ?></h1>

    <?php if (isset($albumes) && is_array($albumes) && count($albumes) > 0): ?>
        <div class="row row-cols-1 row-cols-md-3 g-4">
            <?php foreach ($albumes as $album): ?>
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body">
                            <h5 class="card-title"><?php echo htmlspecialchars($album->nombre_album); ?></h5>
                            
                            <p class="card-text">
                                <strong>Lanzamiento:</strong> <?php echo date('Y', strtotime($album->lanzamiento_album)); ?><br>
                                <strong>Género:</strong> <?php echo htmlspecialchars($album->genero_album); ?><br>
                                <strong>Canciones:</strong> <?php echo htmlspecialchars($album->cantidad_canciones); ?>
                            </p>
                            <a href="<?php echo BASE_URL . 'album/' . $album->ID_album; ?>" class="btn btn-info btn-sm">Ver Detalle</a>
                        </div>
                    </div>
                </div>
            <?php endforeach; ?>
        </div>
    <?php else: ?>
        <div class="alert alert-warning" role="alert">
            Este autor no tiene álbumes registrados o el autor no existe.
        </div>
    <?php endif; ?>

    <div class="mt-4">
        <a href="<?php echo BASE_URL; ?>autores" class="btn btn-secondary">Volver al listado de autores</a>
    </div>

</div>

<?php include 'templates/diseño/footer.phtml'; ?>